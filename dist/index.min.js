!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("LogIt",[],factory):"object"==typeof exports?exports.LogIt=factory():root.LogIt=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function formatError(e){var _ref=[].concat(_toConsumableArray(e)),errorName=_ref[0],file=_ref[1],line=_ref[2],col=_ref[3],errorObj=_ref[4];return{errorName:errorName,file:file,line:line,col:col,stack:errorObj?errorObj.stack:null}}function loggingFunction(errors){console.log(errors)}function LogIt(userConfig){return userConfig=userConfig||{},_extends({},(0,_catcher2["default"])(_extends({},defaultConfig,userConfig)))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.LogIt=LogIt;var _catcher=__webpack_require__(1),_catcher2=_interopRequireDefault(_catcher),defaultConfig={loggingFunction:loggingFunction,formatError:formatError,useWorker:!0,errorBuffer:5}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function isObject(val){return Object.getPrototypeOf(val)===Object.prototype}function log(error){LoggerWorker&&config.useWorker?LoggerWorker.postMessage({type:constants.ONERROR_ACTION,payload:isObject(error)?JSON.stringify(error):error}):config.loggingFunction(error)}function attachGlobalHandler(){var errorQueue=new _ErrorQueue2["default"](config.errorBuffer,log);window.onerror=function(){for(var _len=arguments.length,error=Array(_len),_key=0;_key<_len;_key++)error[_key]=arguments[_key];return errorQueue.addError(config.formatError.call(void 0,error)),!0}}function Catcher(mergedConfig){return config=mergedConfig,config.useWorker&&LoggerWorker.postMessage({type:constants.INITIALIZATION_ACTION,payload:JSON.stringify(config,function(key,val){return"function"==typeof val?""+val:val})}),{attachGlobalHandler:attachGlobalHandler}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Catcher;var _constants=__webpack_require__(2),constants=_interopRequireWildcard(_constants),_ErrorQueue=__webpack_require__(3),_ErrorQueue2=_interopRequireDefault(_ErrorQueue),LoggerWorker=null,config={};window&&window.Worker&&(LoggerWorker=new Worker("../src/logger_worker.js"))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.INITIALIZATION_ACTION="initialization",exports.ONERROR_ACTION="onerror"},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ErrorQueue=function(){function ErrorQueue(queueLength,onError){_classCallCheck(this,ErrorQueue),this.errorsQueue=[],this.queueLength=queueLength,this.onError=onError}return _createClass(ErrorQueue,[{key:"addError",value:function(error){this.errorsQueue.push(error),this.errorsQueue.length===this.queueLength&&(this.onError(this.errorsQueue),this.clearErrorsQueue())}},{key:"clearErrorsQueue",value:function(){this.errorsQueue=[]}}]),ErrorQueue}();exports["default"]=ErrorQueue}])});
//# sourceMappingURL=index.min.js.map