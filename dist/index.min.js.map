{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///dist/index.min.js","webpack:///webpack/bootstrap a37944f794229bc45179","webpack:///./src/index.js","webpack:///./src/catcher.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","formatError","e","_ref","concat","errorName","file","line","col","loggingFunction","_ref2","console","log","LogIt","userConfig","_extends","_catcher2","defaultConfig","Object","defineProperty","value","assign","target","arguments","source","key","prototype","hasOwnProperty","_catcher","useWorker","errorBuffer","isObject","val","getPrototypeOf","attachGlobalHandler","window","onerror","_len","args","_key","formattedError","config","undefined","payload","JSON","stringify","LoggerWorker","postMessage","type","Catcher","mergedConfig","Worker"],"mappings":"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","file":"dist/index.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"LogIt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LogIt\"] = factory();\n\telse\n\t\troot[\"LogIt\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"LogIt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LogIt\"] = factory();\n\telse\n\t\troot[\"LogIt\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.LogIt = LogIt;\n\t\n\tvar _catcher = __webpack_require__(1);\n\t\n\tvar _catcher2 = _interopRequireDefault(_catcher);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\t// Config interface.\n\t// type LogConfig = {\n\t//   scope: Object,\n\t//   loggingFunction: Function,\n\t//   formatError: Function,\n\t//   useWorker: boolean,\n\t//   errorBuffer: number,\n\t// };\n\t\n\tfunction formatError(e) {\n\t    var _ref = [].concat(_toConsumableArray(e));\n\t\n\t    var errorName = _ref[0];\n\t    var file = _ref[1];\n\t    var line = _ref[2];\n\t    var col = _ref[3];\n\t\n\t\n\t    return {\n\t        errorName: errorName,\n\t        file: file,\n\t        line: line,\n\t        col: col\n\t    };\n\t}\n\t\n\tfunction loggingFunction(_ref2) {\n\t    var errorName = _ref2.errorName;\n\t\n\t    console.log(errorName);\n\t}\n\t\n\t// Default config values.\n\tvar defaultConfig = {\n\t    loggingFunction: loggingFunction,\n\t    formatError: formatError,\n\t    useWorker: true,\n\t    errorBuffer: 5\n\t};\n\t\n\t// Config used by the module.\n\tvar config = {};\n\t\n\tfunction LogIt(userConfig) {\n\t    userConfig = userConfig || {};\n\t\n\t    return _extends({}, (0, _catcher2.default)(_extends({}, defaultConfig, userConfig)));\n\t}\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Catcher;\n\t// import Logger from './logger';\n\t\n\tvar LoggerWorker = null;\n\tvar config = {};\n\t\n\tfunction isObject(val) {\n\t    return Object.getPrototypeOf(val) === Object.prototype;\n\t}\n\t\n\tif (window && window.Worker && config.useWorker) {\n\t    LoggerWorker = new Worker('/dist/logger_worker.min.js');\n\t}\n\t\n\tfunction attachGlobalHandler() {\n\t    window.onerror = function () {\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        var formattedError = config.formatError.call(undefined, args);\n\t        var payload = isObject(formattedError) ? JSON.stringify(formattedError) : formattedError;\n\t\n\t        if (LoggerWorker) {\n\t            LoggerWorker.postMessage({\n\t                type: 'onerror',\n\t                payload: payload\n\t            });\n\t        } else {\n\t            config.loggingFunction(config.formatError.call(undefined, args));\n\t        }\n\t\n\t        return true;\n\t    };\n\t}\n\t\n\tfunction Catcher(mergedConfig) {\n\t    config = mergedConfig;\n\t\n\t    if (LoggerWorker) {\n\t        LoggerWorker.postMessage({\n\t            type: 'initialization',\n\t            payload: JSON.stringify(config, function (key, val) {\n\t                return typeof val === 'function' ? '' + val : val;\n\t            })\n\t        });\n\t    }\n\t\n\t    return {\n\t        attachGlobalHandler: attachGlobalHandler\n\t    };\n\t}\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** dist/index.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a37944f794229bc45179\n **/","import Catcher from './catcher';\n\n// Config interface.\n// type LogConfig = {\n//   scope: Object,\n//   loggingFunction: Function,\n//   formatError: Function,\n//   useWorker: boolean,\n//   errorBuffer: number,\n// };\n\nfunction formatError(e) {\n    const [errorName, file, line, col] = [...e];\n\n    return {\n        errorName: errorName,\n        file: file,\n        line: line,\n        col: col,\n    };\n}\n\nfunction loggingFunction({ errorName }) {\n    console.log(errorName);\n}\n\n// Default config values.\nconst defaultConfig = {\n    loggingFunction: loggingFunction,\n    formatError: formatError,\n    useWorker: true,\n    errorBuffer: 5,\n};\n\n// Config used by the module.\nlet config = {};\n\nexport function LogIt(userConfig) {\n    userConfig = userConfig || {};\n\n    return {\n        ...Catcher({ ...defaultConfig, ...userConfig }),\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","// import Logger from './logger';\n\nlet LoggerWorker = null;\nlet config = {};\n\nfunction isObject(val) {\n  return Object.getPrototypeOf(val) === Object.prototype;\n}\n\nif (window && window.Worker && config.useWorker) {\n    LoggerWorker = new Worker('/dist/logger_worker.min.js');\n}\n\nfunction attachGlobalHandler() {\n    window.onerror = (...args) => {\n        const formattedError = config.formatError.call(undefined, args);\n        const payload = isObject(formattedError) ? JSON.stringify(formattedError) : formattedError;\n\n        if (LoggerWorker) {\n            LoggerWorker.postMessage({\n                type: 'onerror',\n                payload: payload,\n            });\n        } else {\n            config.loggingFunction(config.formatError.call(undefined, args));\n        }\n\n        return true;\n    };\n}\n\nexport default function Catcher(mergedConfig) {\n    config = mergedConfig;\n\n    if (LoggerWorker) {\n        LoggerWorker.postMessage({\n            type: 'initialization',\n            payload: JSON.stringify(config, (key, val) => (typeof val === 'function') ? (`${val}`) : val),\n        });\n    }\n\n    return {\n        attachGlobalHandler,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/catcher.js\n **/"],"sourceRoot":""}