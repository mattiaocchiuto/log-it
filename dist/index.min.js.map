{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///dist/index.min.js","webpack:///webpack/bootstrap 85db5e16f25c799809cf","webpack:///./src/index.js","webpack:///./src/catcher.js","webpack:///./src/constants/index.js","webpack:///./src/ErrorQueue.class.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","formatError","e","_ref","concat","errorName","file","line","col","errorObj","stack","loggingFunction","errors","console","log","LogIt","userConfig","_extends","_catcher2","defaultConfig","Object","defineProperty","value","assign","target","arguments","source","key","prototype","hasOwnProperty","_catcher","useWorker","errorBuffer","_interopRequireWildcard","newObj","isObject","val","getPrototypeOf","error","LoggerWorker","config","postMessage","type","constants","ONERROR_ACTION","payload","JSON","stringify","attachGlobalHandler","errorQueue","_ErrorQueue2","window","onerror","_len","_key","addError","undefined","Catcher","mergedConfig","INITIALIZATION_ACTION","_constants","_ErrorQueue","Worker","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","ErrorQueue","queueLength","onError","errorsQueue","push","clearErrorsQueue"],"mappings":"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","file":"dist/index.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"LogIt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LogIt\"] = factory();\n\telse\n\t\troot[\"LogIt\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"LogIt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LogIt\"] = factory();\n\telse\n\t\troot[\"LogIt\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.LogIt = LogIt;\n\t\n\tvar _catcher = __webpack_require__(1);\n\t\n\tvar _catcher2 = _interopRequireDefault(_catcher);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction formatError(e) {\n\t    var _ref = [].concat(_toConsumableArray(e));\n\t\n\t    var errorName = _ref[0];\n\t    var file = _ref[1];\n\t    var line = _ref[2];\n\t    var col = _ref[3];\n\t    var errorObj = _ref[4];\n\t\n\t\n\t    return {\n\t        errorName: errorName,\n\t        file: file,\n\t        line: line,\n\t        col: col,\n\t        stack: errorObj ? errorObj.stack : null\n\t    };\n\t}\n\t\n\tfunction loggingFunction(errors) {\n\t    console.log(errors);\n\t}\n\t\n\t// Default config values.\n\tvar defaultConfig = {\n\t    loggingFunction: loggingFunction,\n\t    formatError: formatError,\n\t    useWorker: true,\n\t    errorBuffer: 5\n\t};\n\t\n\t// Config used by the module.\n\tvar config = {};\n\t\n\tfunction LogIt(userConfig) {\n\t    userConfig = userConfig || {};\n\t\n\t    return _extends({}, (0, _catcher2.default)(_extends({}, defaultConfig, userConfig)));\n\t}\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Catcher;\n\t\n\tvar _constants = __webpack_require__(2);\n\t\n\tvar constants = _interopRequireWildcard(_constants);\n\t\n\tvar _ErrorQueue = __webpack_require__(3);\n\t\n\tvar _ErrorQueue2 = _interopRequireDefault(_ErrorQueue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar LoggerWorker = null;\n\tvar config = {};\n\t\n\tfunction isObject(val) {\n\t    return Object.getPrototypeOf(val) === Object.prototype;\n\t}\n\t\n\tfunction log(error) {\n\t    if (LoggerWorker && config.useWorker) {\n\t        LoggerWorker.postMessage({\n\t            type: constants.ONERROR_ACTION,\n\t            payload: isObject(error) ? JSON.stringify(error) : error\n\t        });\n\t    } else {\n\t        config.loggingFunction(error);\n\t    }\n\t}\n\t\n\tif (window && window.Worker) {\n\t    LoggerWorker = new Worker('../src/logger_worker.js');\n\t}\n\t\n\tfunction attachGlobalHandler() {\n\t    var errorQueue = new _ErrorQueue2.default(config.errorBuffer, log);\n\t\n\t    window.onerror = function () {\n\t        for (var _len = arguments.length, error = Array(_len), _key = 0; _key < _len; _key++) {\n\t            error[_key] = arguments[_key];\n\t        }\n\t\n\t        errorQueue.addError(config.formatError.call(undefined, error));\n\t\n\t        return true;\n\t    };\n\t}\n\t\n\tfunction Catcher(mergedConfig) {\n\t    config = mergedConfig;\n\t\n\t    if (config.useWorker) {\n\t        LoggerWorker.postMessage({\n\t            type: constants.INITIALIZATION_ACTION,\n\t            payload: JSON.stringify(config, function (key, val) {\n\t                return typeof val === 'function' ? '' + val : val;\n\t            })\n\t        });\n\t    }\n\t\n\t    return {\n\t        attachGlobalHandler: attachGlobalHandler\n\t    };\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar INITIALIZATION_ACTION = exports.INITIALIZATION_ACTION = 'initialization';\n\tvar ONERROR_ACTION = exports.ONERROR_ACTION = 'onerror';\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ErrorQueue = function () {\n\t    function ErrorQueue(queueLength, onError) {\n\t        _classCallCheck(this, ErrorQueue);\n\t\n\t        this.errorsQueue = [];\n\t        this.queueLength = queueLength;\n\t        this.onError = onError;\n\t    }\n\t\n\t    _createClass(ErrorQueue, [{\n\t        key: \"addError\",\n\t        value: function addError(error) {\n\t            this.errorsQueue.push(error);\n\t\n\t            if (this.errorsQueue.length === this.queueLength) {\n\t                this.onError(this.errorsQueue);\n\t                this.clearErrorsQueue();\n\t            }\n\t        }\n\t    }, {\n\t        key: \"clearErrorsQueue\",\n\t        value: function clearErrorsQueue() {\n\t            this.errorsQueue = [];\n\t        }\n\t    }]);\n\t\n\t    return ErrorQueue;\n\t}();\n\t\n\texports.default = ErrorQueue;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** dist/index.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 85db5e16f25c799809cf\n **/","import Catcher from './catcher';\n\nfunction formatError(e) {\n    const [errorName, file, line, col, errorObj] = [...e];\n\n    return {\n        errorName: errorName,\n        file: file,\n        line: line,\n        col: col,\n        stack: errorObj ? errorObj.stack : null,\n    };\n}\n\nfunction loggingFunction(errors) {\n    console.log(errors);\n}\n\n// Default config values.\nconst defaultConfig = {\n    loggingFunction: loggingFunction,\n    formatError: formatError,\n    useWorker: true,\n    errorBuffer: 5,\n};\n\n// Config used by the module.\nlet config = {};\n\nexport function LogIt(userConfig) {\n    userConfig = userConfig || {};\n\n    return {\n        ...Catcher({ ...defaultConfig, ...userConfig }),\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import * as constants from './constants';\nimport ErrorQueue from './ErrorQueue.class';\n\nlet LoggerWorker = null;\nlet config = {};\n\nfunction isObject(val) {\n    return Object.getPrototypeOf(val) === Object.prototype;\n}\n\nfunction log(error) {\n    if (LoggerWorker && config.useWorker) {\n        LoggerWorker.postMessage({\n            type: constants.ONERROR_ACTION,\n            payload: isObject(error) ? JSON.stringify(error) : error,\n        });\n    } else {\n        config.loggingFunction(error);\n    }\n}\n\nif (window && window.Worker) {\n    LoggerWorker = new Worker('../src/logger_worker.js');\n}\n\nfunction attachGlobalHandler() {\n    const errorQueue = new ErrorQueue(config.errorBuffer, log);\n\n    window.onerror = (...error) => {\n        errorQueue.addError(config.formatError.call(undefined, error));\n\n        return true;\n    };\n}\n\nexport default function Catcher(mergedConfig) {\n    config = mergedConfig;\n\n    if (config.useWorker) {\n        LoggerWorker.postMessage({\n            type: constants.INITIALIZATION_ACTION,\n            payload: JSON.stringify(config, (key, val) => (typeof val === 'function') ? (`${val}`) : val),\n        });\n    }\n\n    return {\n        attachGlobalHandler,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/catcher.js\n **/","export const INITIALIZATION_ACTION = 'initialization';\nexport const ONERROR_ACTION = 'onerror';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/constants/index.js\n **/","export default class ErrorQueue {\n    constructor(queueLength, onError) {\n        this.errorsQueue = [];\n        this.queueLength = queueLength;\n        this.onError = onError;\n    }\n\n    addError(error) {\n        this.errorsQueue.push(error);\n\n        if (this.errorsQueue.length === this.queueLength) {\n            this.onError(this.errorsQueue);\n            this.clearErrorsQueue();\n        }\n    }\n\n    clearErrorsQueue() {\n        this.errorsQueue = [];\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ErrorQueue.class.js\n **/"],"sourceRoot":""}